{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/microsoft/hve-core/schemas/agent-frontmatter.schema.json",
  "title": "Agent File Frontmatter Schema",
  "description": "Frontmatter schema for .agent.md files in VS Code custom agents",
  "type": "object",
  "required": ["description"],
  "properties": {
    "description": {
      "type": "string",
      "minLength": 1,
      "description": "A brief description of the custom agent, shown as placeholder text in the chat input field"
    },
    "name": {
      "type": "string",
      "description": "The name of the custom agent. If not specified, the file name is used"
    },
    "argument-hint": {
      "type": "string",
      "description": "Optional hint text shown in the chat input field to guide users on how to interact with the custom agent"
    },
    "tools": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "A list of tool or tool set names that are available for this custom agent. Can include built-in tools, tool sets, MCP tools, or tools contributed by extensions"
    },
    "model": {
      "type": "string",
      "description": "The AI model to use when running the prompt. If not specified, the currently selected model in model picker is used"
    },
    "target": {
      "type": "string",
      "enum": ["vscode", "github-copilot"],
      "description": "The target environment or context for the custom agent"
    },
    "mcp-servers": {
      "type": "array",
      "items": {
        "type": "object"
      },
      "description": "Optional list of Model Context Protocol (MCP) server config json to use with custom agents in GitHub Copilot"
    },
    "handoffs": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["label", "agent", "prompt"],
        "properties": {
          "label": {
            "type": "string",
            "description": "The display text shown on the handoff button"
          },
          "agent": {
            "type": "string",
            "description": "The target agent identifier to switch to"
          },
          "prompt": {
            "type": "string",
            "description": "The prompt text to send to the target agent"
          },
          "send": {
            "type": "boolean",
            "description": "Optional boolean flag to auto-submit the prompt (default is false)"
          }
        }
      },
      "description": "Optional list of suggested next actions or prompts to transition between custom agents. Handoff buttons appear as interactive suggestions after a chat response completes"
    }
  },
  "additionalProperties": false
}
